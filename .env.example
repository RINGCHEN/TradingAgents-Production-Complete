# TradingAgents Production Environment Variables
# 複製此文件為 .env 並填入實際值

# =============================================================================
# 基本配置 - ⚠️ 重要: PORT 必須為 8080 (DigitalOcean App Platform 要求)
# =============================================================================
PORT=8080
ENVIRONMENT=production
PYTHONPATH=/app

# DigitalOcean App Platform 特定配置
DO_APP_NAME=your-digitalocean-app-name
DO_REGION=sgp1

# =============================================================================
# 資料庫配置 - DigitalOcean PostgreSQL 14
# =============================================================================
# ⚠️ 重要: 必須包含 sslmode=require 參數
DATABASE_URL=postgresql://username:password@host:25060/database?sslmode=require

# 範例格式 (實際使用請替換為你的資料庫連接資訊):
# DATABASE_URL=postgresql://tradingagents-complete-db:AVNS_xxxxx@app-xxxxx-do-user-xxxxx-0.f.db.ondigitalocean.com:25060/tradingagents-complete-db?sslmode=require

# =============================================================================
# PayUni 支付系統 (商店代號 U03823060) - 生產環境
# ✅ 已驗證: 支付系統100%可用，商業化就緒
# =============================================================================
PAYUNI_MERCHANT_ID=U03823060
PAYUNI_HASH_KEY=your_production_hash_key
PAYUNI_HASH_IV=your_production_hash_iv
PAYUNI_BASE_URL=https://api.payuni.com.tw
PAYUNI_SANDBOX_MODE=false

# PayUni 支付方案設定 (已測試成功)
PAYUNI_GOLD_AMOUNT=1999
PAYUNI_DIAMOND_AMOUNT=4999
PAYUNI_GOLD_ANNUAL_AMOUNT=19990
PAYUNI_DIAMOND_ANNUAL_AMOUNT=49990

# =============================================================================
# 安全認證
# =============================================================================
SECRET_KEY=your-secret-key-for-production-2024
JWT_SECRET=your-jwt-secret-key-for-production-2024

# =============================================================================
# Google OAuth 認證
# =============================================================================
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# =============================================================================
# AI 訓練和模型服務 (可選)
# =============================================================================
TRADING_AGENTS_DATA_DIR=/app/ai_training_data
TRADING_AGENTS_MODELS_DIR=/app/models
CUDA_VISIBLE_DEVICES=0

# =============================================================================
# 監控系統 (Grafana + Prometheus) (可選)
# =============================================================================
GRAFANA_PASSWORD=admin123
PROMETHEUS_RETENTION=15d

# =============================================================================
# FinMind 台股數據 API
# =============================================================================
FINMIND_TOKEN=your-finmind-token

# =============================================================================
# 前端配置 (用於 CORS 和前端整合)
# ✅ 已驗證: 前端完全整合 DigitalOcean API
# =============================================================================
VITE_API_URL=https://twshocks-app-79rsx.ondigitalocean.app
VITE_PAYUNI_MERCHANT_ID=U03823060

# DigitalOcean App 域名配置
# 格式: https://你的應用名稱.ondigitalocean.app
API_DOMAIN=https://twshocks-app-79rsx.ondigitalocean.app
FRONTEND_DOMAIN=https://03king.com
ADMIN_DOMAIN=https://admin.03king.com

# =============================================================================
# CORS 配置 - ✅ 已驗證: CORS 問題完全解決
# =============================================================================
ALLOWED_ORIGINS=https://03king.com,https://admin.03king.com,https://03king.web.app,https://localhost:3000,http://localhost:3000

# 開發環境 CORS 支援
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=86400

# =============================================================================
# 日誌配置
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# Redis 緩存 (可選)
# =============================================================================
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# 郵件服務 (可選)
# =============================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# =============================================================================
# 第三方服務
# =============================================================================
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# 部署驗證和健康檢查
# =============================================================================
# 用於部署後自動驗證系統健康狀態
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=30

# =============================================================================
# 重要提醒和註解 (2025-09-06 最新)
# =============================================================================
# ✅ 已驗證可用的配置：
# - PORT=8080 (DigitalOcean App Platform 要求)
# - DATABASE_URL 必須包含 sslmode=require
# - PayUni 商店代號 U03823060 100% 測試通過
# - CORS 配置已完全解決跨域問題
# - 前端 API 完全指向 DigitalOcean 域名

# 🚨 重要注意事項：
# 1. 複製此文件為 .env 並填入實際的生產環境值
# 2. 切勿將包含真實密鑰的 .env 文件提交到 Git
# 3. DigitalOcean App Platform 環境變數需在控制台單獨設置
# 4. PayUni HASH_KEY 和 HASH_IV 請向 PayUni 申請實際值
# 5. DATABASE_URL 需使用實際的 DigitalOcean PostgreSQL 連接字串

# 📋 部署檢查清單：
# □ 複製 .env.example 為 .env
# □ 填入所有必需的環境變數值
# □ 在 DigitalOcean App Platform 設置相同的環境變數
# □ 確認 PayUni 密鑰正確設置
# □ 驗證資料庫連接字串格式正確
# □ 測試 API 健康檢查端點
# □ 驗證 PayUni 支付功能